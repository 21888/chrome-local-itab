<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="optionsTitle">Local iTab Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="options-container">
        <header class="options-header">
            <div class="header-top">
                <button id="back-to-dashboard" class="back-button" data-i18n-title="backToDashboard" title="Back to Dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                    <span data-i18n="backToDashboard">Back to Dashboard</span>
                </button>
            </div>
            <h1 class="options-title" data-i18n="optionsTitle">Local iTab Settings</h1>
            <p class="options-subtitle" data-i18n="optionsSubtitle">Customize your new tab experience</p>
        </header>
        
        <main class="options-main">
            <!-- Time Display Settings -->
            <section class="settings-section" id="time-settings">
                <div class="section-header">
                    <h2 class="section-title">‚è∞ <span data-i18n="timeDisplay">Time Display</span></h2>
                    <p class="section-description" data-i18n="timeDisplayDesc">Configure how time and date are displayed</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="hour12-format" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="hour12">12-Hour Format</span>
                                <span class="setting-desc">&nbsp;</span>
                            </div>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="show-seconds" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="showSeconds">Show Seconds</span>
                                <span class="setting-desc">&nbsp;</span>
                            </div>
                        </label>
                    </div>
                </div>
            </section>
            

            
            <!-- Background Settings -->
            <section class="settings-section" id="background-settings">
                <div class="section-header">
                    <h2 class="section-title">üé® <span data-i18n="background">Background</span></h2>
                    <p class="section-description" data-i18n="backgroundDesc">Customize your dashboard background</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group full-width">
                        <label class="form-label" data-i18n="bgType">Background Type</label>
                        <select id="bg-type" class="form-select">
                            <option value="gradient" data-i18n="bgGradient">Default Gradient</option>
                            <option value="color" data-i18n="bgColor">Solid Color</option>
                            <option value="image" data-i18n="bgImage">Custom Image</option>
                            <option value="api" data-i18n="bgApi">Random Wallpaper (API)</option>
                        </select>
                        <div class="setting-hint" id="bg-api-hint" style="display: none;">
                            <span class="hint-icon">üåü</span>
                            <span>Automatically loads beautiful wallpapers from Paugram API. Images refresh on each page load.</span>
                        </div>
                    </div>
                    <div class="setting-group full-width" id="bg-color-section" style="display: none;">
                        <label class="form-label" data-i18n="bgColor">Background Color</label>
                        <div class="color-input-group">
                            <input type="color" id="bg-color" class="form-color" value="#1a1a1a">
                            <input type="text" id="bg-color-text" class="form-input color-text" placeholder="#1a1a1a">
                        </div>
                    </div>
                    <div class="setting-group full-width" id="bg-image-section" style="display: none;">
                        <label class="form-label" data-i18n="bgImage">Background Image</label>
                        <div class="file-upload-area" id="bg-upload-area">
                            <input type="file" id="bg-image-upload" class="file-input" accept="image/jpeg,image/png,image/gif,image/webp">
                            <div class="upload-placeholder">
                                <span class="upload-icon">üìÅ</span>
                                <span class="upload-text">Click to select image or drag & drop</span>
                                <small class="upload-hint">JPEG, PNG, GIF, WebP (max 5MB)</small>
                            </div>
                        </div>
                        <div id="bg-image-preview" class="image-preview" style="display: none;">
                            <img id="bg-preview-img" class="preview-image">
                            <div class="preview-actions">
                                <button type="button" id="remove-bg-image" class="btn btn-danger btn-sm">Remove Image</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            

            <!-- Module Visibility Settings -->
            <section class="settings-section" id="visibility-settings">
                <div class="section-header">
                    <h2 class="section-title">üëÅÔ∏è <span data-i18n="moduleVisibility">Module Visibility</span></h2>
                    <p class="section-description">&nbsp;</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="show-clock" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="showClock">Clock Module</span>
                                <span class="setting-desc">&nbsp;</span>
                            </div>
                        </label>
                    </div>

                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="show-shortcuts" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="showShortcuts">Shortcuts Module</span>
                                <span class="setting-desc">&nbsp;</span>
                            </div>
                        </label>
                    </div>
                </div>
            </section>

            <!-- Icon Layout Settings -->
            <section class="settings-section" id="layout-settings">
                <div class="section-header">
                    <h2 class="section-title">üñ•Ô∏è <span data-i18n="iconLayout">Icon Layout</span></h2>
                    <p class="section-description" data-i18n="iconLayoutDesc">Desktop-style icon layout behavior</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="layout-auto-arrange" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="autoArrangeIcons">Auto arrange icons</span>
                                <span class="setting-desc" data-i18n="autoArrangeIconsDesc">Reflow icons by rows and columns</span>
                            </div>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label class="setting-label">
                            <input type="checkbox" id="layout-align-grid" class="setting-checkbox">
                            <span class="checkbox-custom"></span>
                            <div class="setting-info">
                                <span class="setting-name" data-i18n="alignToGrid">Align to grid</span>
                                <span class="setting-desc" data-i18n="alignToGridDesc">Snap icons to nearest grid on drop</span>
                            </div>
                        </label>
                    </div>
                    <div class="setting-group">
                        <label class="form-label" for="layout-grid-size" data-i18n="gridSize">Grid size (px)</label>
                        <input type="number" id="layout-grid-size" class="form-input" min="48" max="240" step="12" value="96">
                    </div>
                    <div class="setting-group">
                        <label class="form-label" for="layout-columns" data-i18n="shortcutsPerRow">Shortcuts per row</label>
                        <input type="number" id="layout-columns" class="form-input" min="1" max="10" step="1" value="6">
                        <small class="form-hint" data-i18n="shortcutsPerRowDesc">Limit how many shortcuts appear in each row when auto arrange is on.</small>
                    </div>
                </div>
            </section>

            <!-- Category Management -->
            <section class="settings-section" id="category-settings">
                <div class="section-header">
                    <h2 class="section-title">üóÇÔ∏è <span data-i18n="categories">Categories</span></h2>
                    <p class="section-description" data-i18n="categoriesDesc">Add, edit, and reorder shortcut categories</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group full-width">
                        <ul id="category-manage-list" class="category-manage-list"></ul>
                        <button type="button" id="add-category" class="category-add-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path d="M19 13H13v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            <span data-i18n="addCategory">Add Category</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Import/Export Settings -->
            <section class="settings-section" id="data-settings">
                <div class="section-header">
                    <h2 class="section-title">üíæ <span data-i18n="dataManagement">Data Management</span></h2>
                    <p class="section-description" data-i18n="dataManagementDesc">Import, export, and manage your settings</p>
                </div>
                <div class="settings-grid">
                    <div class="setting-group full-width">
                        <label class="form-label" data-i18n="quoteText">Quote Text</label>
                        <input type="text" id="quote-text" class="form-input" placeholder="Your inspirational quote">
                        <small class="form-hint">Displayed at the bottom of your dashboard</small>
                    </div>
                    <div class="setting-group full-width">
                        <div class="data-actions">
                            <button id="export-settings" class="btn btn-primary">
                                <span class="btn-icon">üì§</span>
                                <span data-i18n="exportSettings">Export Settings</span>
                            </button>
                            <input type="file" id="import-settings" class="file-input" accept=".json" style="display: none;">
                            <button id="import-settings-btn" class="btn btn-secondary">
                                <span class="btn-icon">üì•</span>
                                <span data-i18n="importSettings">Import Settings</span>
                            </button>
                        </div>
                    </div>
                    <div class="setting-group full-width">
                        <div id="storage-info" class="storage-info">
                            <!-- Storage usage info will be displayed here -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="options-footer">
            <div class="footer-actions">
                <button id="save-settings" class="btn btn-primary btn-lg">
                    <span class="btn-icon">üíæ</span>
                    <span data-i18n="saveSettings">Save Settings</span>
                </button>
                <button id="reset-settings" class="btn btn-danger btn-lg">
                    <span class="btn-icon">üîÑ</span>
                    <span data-i18n="resetSettings">Reset to Defaults</span>
                </button>
            </div>
        </footer>
    </div>
    
    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container"></div>
    
    <script src="storage.js"></script>
    <script src="i18n.js"></script>
    <script src="options.js"></script>
</body>
</html>